<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">

  <script src="js/backgrounds/storage.js"></script>
  <link href="css/bootstrap.min.css" rel="stylesheet">
  <link href="external/font-awesome/css/font-awesome.min.css" rel="stylesheet">
  <link href="external/vue2-datatable/css/vue2-datatable-component.min.css" rel="stylesheet">
  <link href="css/custom.css" rel="stylesheet">

  <title>Jenkins Job Statistics</title>
</head>
<body class="container-fluid" style="width: 1000px;">
<div id="app">
  <div class="page-header">
    <h1 style="text-align: center">{{strings.title}}</h1>
  </div>
  <div class="info-block" v-show="originJobs.length>0">
    <div>
      <code>query: {{ query }}</code>
      <datatable :data="jobs" v-bind="$data"
                 :total="jobs.length"
                 tbl-class="table table-striped table-bordered"/>
    </div>
<!--    <table id="job-stats-table" class="table table-striped table-bordered">-->
<!--      <thead>-->
<!--      <tr>-->
<!--        <th>Job URL</th>-->
<!--        <th width="12%">CronTable</th>-->
<!--        <th width="12%">Node</th>-->
<!--        <th width="8%">Disabled?</th>-->
<!--        <th width="8%">Concurrent?</th>-->
<!--      </tr>-->
<!--      </thead>-->
<!--      <tbody>-->
<!--      <tr v-for="job in jobs">-->
<!--        &lt;!&ndash;记录：如果给row设置background-color，有概率会被 bootstrap table-striped 样式覆盖&ndash;&gt;-->
<!--        <td v-bind:class="{'disabled-row':job.disabled === 'true'}">-->
<!--          <a :href="job.url" target="_blank">{{job.url}}</a>-->
<!--        </td>-->
<!--        <td class="pre-line" v-bind:class="{'disabled-row':job.disabled === 'true'}">{{job.timerTrigger}}</td>-->
<!--        <td class="pre-line" v-bind:class="{'disabled-row':job.disabled === 'true'}" :title="job.param">{{job.node}}-->
<!--        </td>-->
<!--        <td v-bind:class="{'disabled-row':job.disabled === 'true'}">{{job.disabled}}</td>-->
<!--        <td v-bind:class="{'disabled-row':job.disabled === 'true'}">{{job.concurrentBuild}}</td>-->
<!--      </tr>-->
<!--      </tbody>-->
<!--    </table>-->
  </div>
  <div class="info-block">
    <div class="row">
      <div class="col-xs-6" v-show="originJobs.length>0">
        <p>{{strings.jobStatisticsShowSettings_}}</p>
        <ul class="list-group">
          <li class="list-group-item">
            <div class="checkbox">
              <label>
                <input type="checkbox" v-model="showEnabledJobOnly">{{strings.jobStatisticsShowEnabledJobOnly}}
              </label>
            </div>
            <div class="checkbox">
              <label>
                <input type="checkbox" v-model="showCronTableJobOnly">{{strings.jobStatisticsShowCronTableJobOnly}}
              </label>
            </div>
          </li>
        </ul>
      </div>
      <div class="col-xs-6">
        <p>{{strings.jobStatisticsDataFrom_}}</p>
        <ul class="list-group">
          <li class="list-group-item">
            <p v-for="url in jenkinsUrls">{{decodeURIComponent(url)}}</p>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>
</body>
<script src="js/libs/vue.js"></script>
<script src="js/libs/jquery.js"></script>
<script src="js/libs/bootstrap.min.js"></script>
<script src="external/vue2-datatable/js/vue2-datatable-component.min.js"></script>
<script src="js/job_stats.js"></script>
<script src="js/backgrounds/tools.js"></script>
</html>
